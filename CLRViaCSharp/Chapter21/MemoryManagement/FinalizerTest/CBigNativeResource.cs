using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
//-------------------------------------------------------------------------------------------------------
namespace FinalizerTest
{
//-------------------------------------------------------------------------------------------------------
	public class CBigNativeResource
	{
//-------------------------------------------------------------------------------------------------------
        private int												MSize;
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
        public CBigNativeResource(int Size)
		{
            MSize=Size;

            if (MSize>0)
			{
                // Simulujem, ze trieda ALOKUJE VELKY BLOK UNMANAGED PAMATE.
                GC.AddMemoryPressure(MSize);
            }

            Console.WriteLine("CBigNativeResource CREATED !");
        }
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
        ~CBigNativeResource()
		{
            if (MSize>0)
			{
                // Simulujem, ze trieda UVOLNUJE VELKY BLOK UNMANAGED PAMATE.
                GC.RemoveMemoryPressure(MSize);
            }

            Console.WriteLine("BigNativeResource DESTROYED !");
        }
//-------------------------------------------------------------------------------------------------------
	}
//-------------------------------------------------------------------------------------------------------
}
//-------------------------------------------------------------------------------------------------------