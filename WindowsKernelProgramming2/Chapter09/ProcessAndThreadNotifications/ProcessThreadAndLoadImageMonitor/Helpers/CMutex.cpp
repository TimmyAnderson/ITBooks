//----------------------------------------------------------------------------------------------------------------------
#include "CMutex.h"
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
CMutex::CMutex(void)
	: MMutex()
{
	KeInitializeMutex(&MMutex,0);
}
//----------------------------------------------------------------------------------------------------------------------
CMutex::~CMutex(void)
{
}
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
void CMutex::Lock(void)
{
	KeWaitForSingleObject(&MMutex,KWAIT_REASON::Executive,MODE::KernelMode,FALSE,nullptr);
}
//----------------------------------------------------------------------------------------------------------------------
void CMutex::Unlock(void)
{
	KeReleaseMutex(&MMutex,FALSE);
}
//----------------------------------------------------------------------------------------------------------------------