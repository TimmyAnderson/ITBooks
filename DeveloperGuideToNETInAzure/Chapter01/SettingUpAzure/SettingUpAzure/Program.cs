using Microsoft.Azure.Functions.Worker;
using Microsoft.Extensions.DependencyInjection;
using Microsoft.Extensions.Hosting;
//--------------------------------------------------------------------------------------------------------------------------------
namespace SettingUpAzure
{
//--------------------------------------------------------------------------------------------------------------------------------
	public class Program
	{
//--------------------------------------------------------------------------------------------------------------------------------
		private static void MyConfigureServices(IServiceCollection Services)
		{
			Services.AddApplicationInsightsTelemetryWorkerService();

			Services.ConfigureFunctionsApplicationInsights();
		}
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
		public static void Main(string[] args)
		{
			HostBuilder											HostBuilder=new HostBuilder();
	
			HostBuilder.ConfigureFunctionsWebApplication();
    
			HostBuilder.ConfigureServices(MyConfigureServices);

			IHost												Host=HostBuilder.Build();

			Host.Run();
		}
//--------------------------------------------------------------------------------------------------------------------------------
	}
//--------------------------------------------------------------------------------------------------------------------------------
}
//--------------------------------------------------------------------------------------------------------------------------------