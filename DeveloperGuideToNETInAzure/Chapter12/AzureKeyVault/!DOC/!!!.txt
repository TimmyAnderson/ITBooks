//----------------------------------------------------------------------------------------------------------------------
1. SOLUTION demonstruje pouzitie AZURE KEY VAULT v .NET CORE.
2. AZURE KEY VAULT je AZURE SERVICE, ktory umoznuje bezpecne ulozenie SECRETS, ako su PASSWORDS v CENTRALIZED STORAGE, ktory je dostupny v AZURE.
3. AZURE KEY VAULT umoznuje ulozenie nasledujucich typov VALUES.
   A. SECRETS.
   B. CERTIFICATES.
   C. KEYS.
4. S KEY VAULTS sa pracuje pomocou nasledujucich COMMANDS.
   A. KEY VAULT sa vytvara pomocou COMMAND [az keyvault create]. Prikladom je COMMAND [az keyvault create --name MyKeyVaultTA76 --resource-group Chapter12 --location centralus].
   B. KEY VAULT sa odstranuje pomocou COMMAND [az keyvault delete]. Ak je zapnuta KEY VAULT PROTECTION, tak COMMAND iba presunie KEY VAULT do SOFT DELETED STATE. Prikladom je COMMAND [az keyvault delete --name MyKeyVaultTA76 --resource-group Chapter12].
   C. KEY VAULT sa PERMANENTNE odstranuje pomocou COMMAND [az keyvault purge]. Prikladom je COMMAND [az keyvault purge --name MyKeyVaultTA76].
   D. Zoznam KEY VAULTS vracia COMMAND [az keyvault list]. Prikladom je COMMAND [az keyvault list --resource-group Chapter12].
5. PERMISSIONS pre KEY VAULT sa definuju pomocou ROLE BASED ACCESS CONTROL. ROLE BASED ACCESS CONTROL pre KEYVAULT definuje nasledujuce BUILT IN ROLES.
   A. ROLE [Key Vault Administrator].
   B. ROLE [Key Vault Reader].
   C. ROLE [Key Vault Purge Operator].
   D. ROLE [Key Vault Certificates Officer].
   E. ROLE [Key Vault Certificate User].
   F. ROLE [Key Vault Crypto Officer].
   G. ROLE [Key Vault Crypto User].
   H. ROLE [Key Vault Crypto Service Encryption User].
   I. ROLE [Key Vault Crypto Service Release User].
   J. ROLE [Key Vault Secrets Officer].
   K. ROLE [Key Vault Secrets User].
6. S KEY VAULT SECRETS sa pracuje pomocou nasledujucich COMMANDS.
   A. KEY VAULT SECRET sa nastavuje pomocou COMMAND [az keyvault secret set]. Prikladom je COMMAND [az keyvault secret set --name MySecretName --vault-name MyKeyVaultTA76 --value MySecretValue --encoding "utf-8"].
   B. KEY VAULT SECRET sa stahuje do FILE pomocou COMMAND [az keyvault secret download]. Prikladom je COMMAND [az keyvault secret download --name MySecretName --vault-name MyKeyVaultTA76 --encoding "utf-8" --file MySecretName.txt].
   C. KEY VAULT SECRET sa odstranuje pomocou COMMAND [az keyvault secret delete].  Ak je zapnuta KEY VAULT PROTECTION, tak COMMAND iba presunie KEY VAULT SECRET do SOFT DELETED STATE. Prikladom je COMMAND [az keyvault secret delete --name MySecretName --vault-name MyKeyVaultTA76].
   D. KEY VAULT SECRET sa PERMANENTNE odstranuje pomocou COMMAND [az keyvault secret purge]. Prikladom je COMMAND [az keyvault secret purge --name MySecretName --vault-name MyKeyVaultTA76].
   E. Zoznam KEY VAULT SECRETS vracia COMMAND [az keyvault secret list]. Prikladom je COMMAND [az keyvault secret list --vault-name MyKeyVaultTA76].
7. S KEY VAULT CERTIFICATES sa pracuje pomocou nasledujucich COMMANDS.
   A. KEY VAULT CERTIFICATE sa vytvara pomocou COMMAND [az keyvault certificate create]. Prikladom je COMMAND [az keyvault certificate create --name MyCertificate --vault-name MyKeyVaultTA76 --policy @DefaultCertificatePolicy.json].
   B. KEY VAULT CERTIFICATE sa stahuje do FILE pomocou COMMAND [az keyvault certificate download]. Prikladom je COMMAND [az keyvault certificate download --name MyCertificate --vault-name MyKeyVaultTA76 --encoding PEM --file MyCertificate.pem].
   C. KEY VAULT CERTIFICATE sa odstranuje pomocou COMMAND [az keyvault certificate delete]. Ak je zapnuta KEY VAULT PROTECTION, tak COMMAND iba presunie KEY VAULT CERTIFICATE do SOFT DELETED STATE. Prikladom je COMMAND [az keyvault certificate delete --name MyCertificate --vault-name MyKeyVaultTA76].
   D. KEY VAULT CERTIFICATE sa PERMANENTNE odstranuje pomocou COMMAND [az keyvault certificate purge]. Prikladom je COMMAND [az keyvault certificate purge --name MyCertificate --vault-name MyKeyVaultTA76].
   E. Zoznam KEY VAULT CERTIFICATES vracia COMMAND [az keyvault certificate list]. Prikladom je COMMAND [az keyvault certificate list --vault-name MyKeyVaultTA76].
   F. KEY VAULT CERTIFICATE DEFAULT POLICY sa ziskava pomocou COMMAND [az keyvault certificate get-default-policy]. Prikladom je COMMAND [az keyvault certificate get-default-policy > DefaultCertificatePolicy.json]. DEFAULT POLICY obsahuje POLICY pre SELF SIGNED CERTIFICATE.
8. S KEY VAULT KEYS sa pracuje pomocou nasledujucich COMMANDS.
   A. KEY VAULT KEY sa vytvara pomocou COMMAND [az keyvault key create]. Prikladom je COMMAND [az keyvault key create --name MyKey --vault-name MyKeyVaultTA76].
   B. KEY VAULT KEY sa stahuje do FILE pomocou COMMAND [az keyvault key download]. Prikladom je COMMAND [az keyvault key download --name MyKey --vault-name MyKeyVaultTA76 --encoding PEM --file MyKey.pem].
   C. KEY VAULT KEY sa odstranuje pomocou COMMAND [az keyvault key delete]. Ak je zapnuta KEY VAULT PROTECTION, tak COMMAND iba presunie KEY VAULT KEY do SOFT DELETED STATE. Prikladom je COMMAND [az keyvault key delete --name MyKey --vault-name MyKeyVaultTA76].
   D. KEY VAULT KEY sa PERMANENTNE odstranuje pomocou COMMAND [az keyvault key purge]. Prikladom je COMMAND [az keyvault key purge --name MyKey --vault-name MyKeyVaultTA76].
   E. Zoznam KEY VAULT KEYS vracia COMMAND [az keyvault key list]. Prikladom je COMMAND [az keyvault key list --vault-name MyKeyVaultTA76].
9. K KEY VAULT moze pristupovat iba SECURITY PRINCIPAL, ktoremu je pridelena prislusna ROLE. AZURE definuje nasledujuce typy SECURITY PRINCIPAL.
   A. SECURITY PRINCIPAL [USER]. USER je standardny AZURE USER.
   B. SECURITY PRINCIPAL [GROUP]. GROUP je standardna AZURE GROUP obsahujuca AZURE USERS.
   C. SECURITY PRINCIPAL [SERVICE PRINCIPAL]. SERVICE PRINCIPALS je mozne vytvorit napriklad pre APPLICATION REGISTRATIONS.
   D. SECURITY PRINCIPAL [MANAGED IDENTITY]. MANAGED IDENTIIES je mozne vytvorit pre rozne SERVICES.
10. Pre pristup ku KEY VAULT je mozne vykonavat AUTHENTICATION a AUTHORIZATION pomocou MANAGED IDENTITIES. Pre MANAGED IDENTITIES platia nasledujuce fakty.
   A. MANAGED IDENTITIES je sucastou AZURE ACTIVE DIRECTORY.
   B. MANAGED IDENTITIES mozu mat nasledujuci typ.
      A. SYSTEM ASSIGNED MANAGED IDENTITY. Tato IDENTITY je automaticky vytvarana spolu s prilusnym RESOURCE a jeho zivotnost trva po dobu zivotnosti RESOURCE. Jednym z podporovanych RESOURCE je AZURE FUNCTIONS.
      B. USER ASSIGNED MANAGED IDENTITY. Tato IDENTITY je vytvarana nezavisle na danom RESOURCE a existuje az kym nie je IDENTITY explicitne odstranena.
   C. Pouzitie MANAGED IDENTITIES umoznuje jednoduchu integraciu s inym AZURE SERVICES.
11. CLIENT LIBRARY pre KEY VAULT je implementovana v PACKAGE [Azure.Security.KeyVault.Secrets].
12. CLASS [SecretClient] reprezentuje CLIENT na AZURE KEY VAULT. Pre CLASS platia nasledujuce fakty.
   A. CONSTRUCTOR vytvara instanciu CLASS [SecretClient]. CONSTRUCTOR umoznuje definovat ACCESS TOKEN.
   B. PROPERTY [Uri VaultUri] obsahuje URL ku KEY VAULT.
   C. METHOD [Response<KeyVaultSecret> GetSecret(string Name, string Version, CancellationToken CancellationToken)] SYNCHRONNE vracia KEY VAULT SECRET.
   D. METHOD [Task<Response<KeyVaultSecret>> GetSecretAsync(string Name, string Version, CancellationToken CancellationToken)] ASYNCHRONNE vracia KEY VAULT SECRET.
   E. METHOD [Pageable<SecretProperties> GetPropertiesOfSecretVersions(string Name, CancellationToken CancellationToken)] SYNCHRONNE vracia PROPERTIES vsetkych (aj DISABLED) VERSIONS danej KEY VAULT SECRET.
   F. METHOD [AsyncPageable<SecretProperties> GetPropertiesOfSecretVersionsAsync(string Name, CancellationToken CancellationToken)] ASYNCHRONNE vracia PROPERTIES vsetkych (aj DISABLED) VERSIONS danej KEY VAULT SECRET.
   G. METHOD [Pageable<SecretProperties> GetPropertiesOfSecrets(CancellationToken CancellationToken)] SYNCHRONNE vracia PROPERTIES vsetkych (aj DISABLED) KEY VAULT SECRETS.
   H. METHOD [AsyncPageable<SecretProperties> GetPropertiesOfSecretsAsync(CancellationToken CancellationToken)] ASYNCHRONNE vracia PROPERTIES vsetkych (aj DISABLED) KEY VAULT SECRETS.
   I. METHOD [Response<SecretProperties> UpdateSecretProperties(SecretProperties Properties, CancellationToken CancellationToken)] SYNCHRONNE vykonava UPDATE ATTRIBUTES, ktore su asociovane s danou KEY VAULT SECRET.
   J. METHOD [Task<Response<SecretProperties>> UpdateSecretPropertiesAsync(SecretProperties Properties, CancellationToken CancellationToken)] ASYNCHRONNE vykonava UPDATE ATTRIBUTES, ktore su asociovane s danou KEY VAULT SECRET.
   K. METHOD [Response<KeyVaultSecret> SetSecret(KeyVaultSecret Secret, CancellationToken CancellationToken)] SYNCHRONNE nastavuje KEY VAULT SECRET.
   L. METHOD [Task<Response<KeyVaultSecret>> SetSecretAsync(KeyVaultSecret Secret, CancellationToken CancellationToken)] ASYNCHRONNE nastavuje KEY VAULT SECRET.
   M. METHOD [DeleteSecretOperation StartDeleteSecret(string Name, CancellationToken CancellationToken)] SYNCHRONNE odstranuje KEY VAULT SECRET.
   N. METHOD [Task<DeleteSecretOperation> StartDeleteSecretAsync(string Name, CancellationToken CancellationToken)] ASYNCHRONNE odstranuje KEY VAULT SECRET.
   O. METHOD [Response<DeletedSecret> GetDeletedSecret(string Name, CancellationToken CancellationToken)] SYNCHRONNE vracia uz odstraneny KEY VAULT SECRET.
   P. METHOD [Task<Response<DeletedSecret>> GetDeletedSecretAsync(string Name, CancellationToken CancellationToken)] ASYNCHRONNE vracia uz odstraneny KEY VAULT SECRET.
   Q. METHOD [Pageable<DeletedSecret> GetDeletedSecrets(CancellationToken CancellationToken)] SYNCHRONNE vracia vsetky odstranene KEY VAULT SECRETS.
   R. METHOD [AsyncPageable<DeletedSecret> GetDeletedSecretsAsync(CancellationToken CancellationToken)] ASYNCHRONNE vracia vsetky odstranene KEY VAULT SECRETS.
   S. METHOD [RecoverDeletedSecretOperation StartRecoverDeletedSecret(string Name, CancellationToken CancellationToken)] SYNCHRONNE vykona RECOVERY DELETED KEY VAULT SECRET.
   T. METHOD [Task<RecoverDeletedSecretOperation> StartRecoverDeletedSecretAsync(string Name, CancellationToken CancellationToken)] ASYNCHRONNE vykona RECOVERY DELETED KEY VAULT SECRET.
   U. METHOD [Response PurgeDeletedSecret(string Name, CancellationToken CancellationToken)] SYNCHRONNE vykona permanentne odstranenie KEY VAULT SECRET.
   V. METHOD [Task<Response> PurgeDeletedSecretAsync(string Name, CancellationToken CancellationToken)] ASYNCHRONNE vykona permanentne odstranenie KEY VAULT SECRET.
   W. METHOD [Response<byte[]> BackupSecret(string Name, CancellationToken CancellationToken)] SYNCHRONNE vykona BACKUP KEY VAULT SECRET.
   X. METHOD [Task<Response<byte[]>> BackupSecretAsync(string Name, CancellationToken CancellationToken)] ASYNCHRONNE vykona BACKUP KEY VAULT SECRET.
   Y. METHOD [Response<SecretProperties> RestoreSecretBackup(byte[] Backup, CancellationToken CancellationToken)] SYNCHRONNE vykona RESTORE KEY VAULT SECRET.
   Z. METHOD [Task<Response<SecretProperties>> RestoreSecretBackupAsync(byte[] Backup, CancellationToken CancellationToken)] ASYNCHRONNE vykona RESTORE KEY VAULT SECRET.
13. CLASS [KeyVaultSecret] reprezentuje CLIENT SECRET v AZURE KEY VAULT. Pre CLASS platia nasledujuce fakty.
   A. CLASS implementuje INTERFACE [IJsonSerializable], ktory umoznuje SERIALIZATION do JSON.
   B. CLASS implementuje INTERFACE [IJsonDeserializable], ktory umoznuje DESERIALIZATION do JSON.
   C. CONSTRUCTOR vytvara instanciu CLASS [KeyVaultSecret].
   D. PROPERTY [Uri Id] obsahuje IDENTIFIER KEY VAULT SECRET.
   E. PROPERTY [string Name] obsahuje nazov KEY VAULT SECRET.
   F. PROPERTY [string Value] obsahuje VALUE KEY VAULT SECRET.
   G. PROPERTY [SecretProperties Properties] obsahuje dodatocne PROPERTIES KEY VAULT SECRET.
14. APP SERVICE PROGRAM vyuzivajuci AZURE KEY VAULT moze vykonat AUTHENTICATION a AUTHORIZATION pomocou SYSTEM ASSIGNED MANAGED IDENTITY. Pristup pomocou SYSTEM ASSIGNED MANAGED IDENTITY sa vykonava v nasledujucich krokoch.
   A. ASP.NET PROGRAM, ktory bude predstavovat APP SERVICE PROGRAM sa ulozi do DOCKER IMAGE REPOSITORY, ako napriklad DOCKER HUB.
   B. Vytvori sa APP SERVICE SERVICE PLAN pomocou COMMAND [az appservice plan create]. Prikladom je COMMAND [az appservice plan create --name MyAppServicePlan --resource-group Chapter12 --location centralus --is-linux --sku FREE].
   C. Vo vytvorenom SERVICE PLAN sa vytvori APP SERVICE PROGRAM pomocou COMMAND [az webapp create]. Prikladom je COMMAND [az webapp create --name KeyVaultSystemAssignedManagedIdentity --plan MyAppServicePlan --resource-group Chapter12 --container-image-name docker.io/timmyanderson/keyvaultsystemassignedmanagedidentity:1.0.0].
   !!! D. Pre vytvorny APP SERVICE PROGRAM sa vygeneruje SYSTEM ASSIGNED MANAGED IDENTITY pomocou COMMAND [az webapp identity assign]. Prikladom je COMMAND [az webapp identity assign --name KeyVaultSystemAssignedManagedIdentity --resource-group Chapter12]. COMMAND vracia v PROPERTY [principalId] PRINCIPAL ID vytvorenej SYSTEM ASSIGNED MANAGED IDENTITY.
   !!! E. S pouzitim PRINCIPAL ID vytvorenej SYSTEM ASSIGNED MANAGED IDENTITY sa prideli danemu PRINCIPAL ID ROLE [Key Vault Administrator], ktora umoznuje pristup k AZURE KEY VAULT. ROLE sa prideluje pomocou COMMAND [az role assignment create]. Prikladom je COMMAND [az role assignment create --assignee "be627626-261a-46c8-b9e9-18ee78ada585" --scope "/subscriptions/b5f70a84-6ba2-4485-84cd-ac0883d618c5/resourceGroups/Chapter12/providers/Microsoft.KeyVault/vaults/MyKeyVaultTA76" --role "Key Vault Administrator"].
   !!! F. V CODE sa AUTHENTICATION a AUTHORIZATION k AZURE KEY VAULT vykonava v nasledujucich krokoch.
      A. Pre SYSTEM ASSIGNED MANAGED IDENTITY sa vytvori instancia CLASS [ManagedIdentityCredential] bude volanim DEFAULT CONSTRUCTOR, alebo pouzitim NON-DEFAULT CONSTRUCTOR do ktoreho sa vlozi ako PARAMETER VALUE PROPERTY [ManagedIdentityId ManagedIdentityId.SystemAssigned].
      B. Vytvori sa instancia CLASS [SecretClient], ktora ako PARAMETER pouzije vytvorenu instanciu CLASS [ManagedIdentityCredential].
      C. Vytvorena instancia CLASS [SecretClient] sa pouzije na pristup k AZURE KEY VAULT.
15. APP SERVICE PROGRAM vyuzivajuci AZURE KEY VAULT moze vykonat AUTHENTICATION a AUTHORIZATION pomocou USER ASSIGNED MANAGED IDENTITY. Pristup pomocou USER ASSIGNED MANAGED IDENTITY sa vykonava v nasledujucich krokoch.
   A. ASP.NET PROGRAM, ktory bude predstavovat APP SERVICE PROGRAM sa ulozi do DOCKER IMAGE REPOSITORY, ako napriklad DOCKER HUB.
   B. Vytvori sa APP SERVICE SERVICE PLAN pomocou COMMAND [az appservice plan create]. Prikladom je COMMAND [az appservice plan create --name MyAppServicePlan --resource-group Chapter12 --location centralus --is-linux --sku FREE].
   C. Vo vytvorenom SERVICE PLAN sa vytvori APP SERVICE PROGRAM pomocou COMMAND [az webapp create]. Prikladom je COMMAND [az webapp identity assign --name KeyVaultUserAssignedManagedIdentity --resource-group Chapter12 --identities "/subscriptions/b5f70a84-6ba2-4485-84cd-ac0883d618c5/resourcegroups/Chapter12/providers/Microsoft.ManagedIdentity/userAssignedIdentities/MyIdentity"].
   !!! D. Vytvori sa USER ASSIGNED MANAGED IDENTITY pomocou COMMAND [az identity create]. Prikladom je COMMAND [az identity create --name MyIdentity --resource-group Chapter12]. COMMAND vracia v PROPERTY [principalId] PRINCIPAL ID USER ASSIGNED MANAGED IDENTITY, ktora sa pouziva na AUTHENTICATION a AUTHRORIZATION. Alternativne je mozne pouzit aj VALUE v PROPERTY [clientId].
   !!! E. Vytvorena USER ASSIGNED MANAGED IDENTITY sa priradi APP SERVICE PROGRAM pomocou COMMAND [az webapp identity assign]. Prikladom je COMMAND [az webapp identity assign --name KeyVaultUserAssignedManagedIdentity --resource-group Chapter12 --identities "/subscriptions/b5f70a84-6ba2-4485-84cd-ac0883d618c5/resourcegroups/Chapter12/providers/Microsoft.ManagedIdentity/userAssignedIdentities/MyIdentity"].
   !!! F. S pouzitim PRINCIPAL ID vytvorenej USER ASSIGNED MANAGED IDENTITY sa prideli danemu PRINCIPAL ID ROLE [Key Vault Administrator], ktora umoznuje pristup k AZURE KEY VAULT. ROLE sa prideluje pomocou COMMAND [az role assignment create]. Prikladom je COMMAND [az role assignment create --assignee "410fb2ee-befe-486f-a15b-6a344c2205a7" --scope "/subscriptions/b5f70a84-6ba2-4485-84cd-ac0883d618c5/resourceGroups/Chapter12/providers/Microsoft.KeyVault/vaults/MyKeyVaultTA76" --role "Key Vault Administrator"].
   !!! G. V CODE sa AUTHENTICATION a AUTHORIZATION k AZURE KEY VAULT vykonava v nasledujucich krokoch.
      A. Pre USER ASSIGNED MANAGED IDENTITY sa vytvori instancia CLASS [ManagedIdentityId]. Instancia CLASS [ManagedIdentityId] sa moze vytvorit nasledujucimi sposobmi.
         A. Pre PRINCIPAL ID volanim METHOD [ManagedIdentityId ManagedIdentityId.FromUserAssignedObjectId(string ID)], alebo volanim METHOD [ManagedIdentityId ManagedIdentityId.FromUserAssignedClientId(string ID)].
         B. Pre CLIENT ID volanim METHOD [ManagedIdentityId ManagedIdentityId.FromUserAssignedClientId(string ID)].
      B. Vytvori instancia CLASS [ManagedIdentityCredential] pomocou instancie CLASS [ManagedIdentityId].
      C. Vytvori sa instancia CLASS [SecretClient], ktora ako PARAMETER pouzije vytvorenu instanciu CLASS [ManagedIdentityCredential].
      D. Vytvorena instancia CLASS [SecretClient] sa pouzije na pristup k AZURE KEY VAULT.
16. AZURE KEY VALUE podporuje KEY VAULT REFERENCES. Pre KEY VAULT REFERENCES platia nasledujuce fakty.
   A. KEY VAULT REFERENCES umoznuju bezpecne referovanie sa na KEY VAULT SECRETS v KEY VAULT z PROGRAM CONFIGURATIONS ako je napriklad APP SERVICE PROGRAM.
   B. Pre kazdy KEY VALUT SECRET je do CONFIGURATION nutne pridat novy novy KEY, ktoreho VALUE bude mat FORMAT [@Microsoft.KeyVault(SecretUri=https://KEY_VAULT_NAME.vault.azure.net/secrets/KEY_VAULT_SECRET_NAME)], kde VALUE [KEY_VAULT_NAME] je nazov KEY VAULT a VALUE [KEY_VAULT_SECRET_NAME] je nazov KEY VAULT SECRET. Pre APP SERVICE PROGRAM sa CONFIGURATION pridava pomocou COMMAND [az webapp config appsettings set]. Prikladom je COMMAND [az webapp config appsettings set --name KeyVaultSystemAssignedManagedIdentity --resource-group Chapter12 --settings "MySecretFromKeyVault=@Microsoft.KeyVault(SecretUri=https://mykeyvaultta76.vault.azure.net/secrets/mysecretname)"]. Po zmene CONFIGURATION je potrebne vykona RESTART APP SERVICE PROGRAM.
   C. Ak ma PROGRAM dostatocne ACCESS RIGHTS, moze ku KEY VALUE SECRETS pristupovat pomocou INTRFACE [IConfiguration].
   !!!!! D. KEY VAULT REFERENCES su podporovane iba pre SYSTEM ASSIGNED MANAGED IDENTITIES, ale NIE SU podporovane pre USER ASSIGNED MANAGED IDENTITIES.
17. S APP SERVICE PROGRAM CONFIGURATIONS sa pracuje pomocou nasledujucich COMMANDS.
   A. APP SERVICE PROGRAM CONFIGURATION sa nastavuje pomocou COMMAND [az webapp config appsettings set]. Prikladom je COMMAND [az webapp config appsettings set --name KeyVaultSystemAssignedManagedIdentity --resource-group Chapter12 --settings "MySecretFromKeyVault=@Microsoft.KeyVault(SecretUri=https://mykeyvaultta76.vault.azure.net/secrets/mysecretname)"].
   B. APP SERVICE PROGRAM CONFIGURATION sa odstranuje pomocou COMMAND [az webapp config appsettings delete]. Prikladom je COMMAND [az webapp config appsettings delete --name KeyVaultSystemAssignedManagedIdentity --resource-group Chapter12 --setting-names "MySecretFromKeyVault"].
   C. Zoznam APP SERVICE PROGRAM CONFIGURATIONS vracia COMMAND [az webapp config appsettings list]. Prikladom je COMMAND [az webapp config appsettings list --name KeyVaultSystemAssignedManagedIdentity --resource-group Chapter12].
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
AZURE CLI COMMANDS - KEY VAULTS.

1. COMMAND [az keyvault create --name KEY_VAULT_NAME --resource-group RESOURCE_GROUP_NAME --location LOCATION_NAME].
   A. COMMAND vytvara novy KEY VAULT.
   B. OPTION [--name KEY_VAULT_NAME] vo VALUE [KEY_VAULT_NAME] obsahuje nazov KEY VAULT.
   C. OPTION [--resource-group RESOURCE_GROUP_NAME] vo VALUE [RESOURCE_GROUP_NAME] urcuje RESOURCE GROUP NAME.
   D. OPTION [--location LOCATION_NAME] vo VALUE [LOCATION_NAME] urcuje nazov LOCATION.
2. COMMAND [az keyvault delete --name KEY_VAULT_NAME --resource-group RESOURCE_GROUP_NAME].
   A. COMMAND odstranuje existujuci KEY VAULT. Ak je zapnuta KEY VAULT PROTECTION, tak COMMAND iba presunie KEY VAULT do SOFT DELETED STATE.
   B. OPTION [--name KEY_VAULT_NAME] vo VALUE [KEY_VAULT_NAME] obsahuje nazov KEY VAULT.
   C. OPTION [--resource-group RESOURCE_GROUP_NAME] vo VALUE [RESOURCE_GROUP_NAME] urcuje RESOURCE GROUP NAME.
3. COMMAND [az keyvault purge --name KEY_VAULT_NAME].
   A. COMMAND PERMANENTNE odstranuje existujuci KEY VAULT.
   B. OPTION [--name KEY_VAULT_NAME] vo VALUE [KEY_VAULT_NAME] obsahuje nazov KEY VAULT.
4. COMMAND [az keyvault list --resource-group RESOURCE_GROUP_NAME].
   A. COMMAND vracia zoznam existujucich KEY VAULTS.
   B. OPTION [--resource-group RESOURCE_GROUP_NAME] vo VALUE [RESOURCE_GROUP_NAME] urcuje RESOURCE GROUP NAME.
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
AZURE CLI COMMANDS - KEY VAULT SECRETS.

1. COMMAND [az keyvault secret set --name KEY_VAULT_SECRET_NAME --vault-name KEY_VAULT_NAME --value KEY_VAULT_SECRET_VALUE --encoding VALUE_ENCODING].
   A. COMMAND nastavuje VALUE KEY VAULT SECRET.
   B. OPTION [--name KEY_VAULT_SECRET_NAME] vo VALUE [KEY_VAULT_SECRET_NAME] obsahuje nazov KEY VAULT SECRET.
   C. OPTION [--vault-name KEY_VAULT_NAME] vo VALUE [KEY_VAULT_NAME] obsahuje nazov KEY VAULT.
   D. OPTION [--value KEY_VAULT_SECRET_VALUE] vo VALUE [KEY_VAULT_SECRET_VALUE] obsahuje KEY VAULT SECRET VALUE.
   E. OPTION [--encoding VALUE_ENCODING] vo VALUE [VALUE_ENCODING] obsahuje KEY VAULT SECRET VALUE ENCODING. DEFAULT VALUE je VALUE [utf-8].
2. COMMAND [az keyvault secret download --name KEY_VAULT_SECRET_NAME --vault-name KEY_VAULT_NAME --encoding VALUE_ENCODING --file FILE_PATH].
   A. COMMAND stahuje VALUE KEY VAULT SECRET do FILE.
   B. OPTION [--name KEY_VAULT_SECRET_NAME] vo VALUE [KEY_VAULT_SECRET_NAME] obsahuje nazov KEY VAULT SECRET.
   C. OPTION [--vault-name KEY_VAULT_NAME] vo VALUE [KEY_VAULT_NAME] obsahuje nazov KEY VAULT.
   D. OPTION [--encoding VALUE_ENCODING] vo VALUE [VALUE_ENCODING] obsahuje KEY VAULT SECRET VALUE ENCODING. DEFAULT VALUE je VALUE [utf-8].
   E. OPTION [--file FILE_PATH] vo VALUE [FILE_PATH] obsahuje PATH k FILE do ktoreho ma byt KEY VAULT SECRET VALUE ulozena.
3. COMMAND [az keyvault secret delete --name KEY_VAULT_SECRET_NAME --vault-name KEY_VAULT_NAME].
   A. COMMAND odstranuje KEY VAULT SECRET. Ak je zapnuta KEY VAULT PROTECTION, tak COMMAND iba presunie KEY VAULT SECRET do SOFT DELETED STATE.
   B. OPTION [--name KEY_VAULT_SECRET_NAME] vo VALUE [KEY_VAULT_SECRET_NAME] obsahuje nazov KEY VAULT SECRET.
   C. OPTION [--vault-name KEY_VAULT_NAME] vo VALUE [KEY_VAULT_NAME] obsahuje nazov KEY VAULT.
4. COMMAND [az keyvault secret purge --name KEY_VAULT_SECRET_NAME --vault-name KEY_VAULT_NAME].
   A. COMMAND PERMANENTNE odstranuje KEY VAULT SECRET.
   B. OPTION [--name KEY_VAULT_SECRET_NAME] vo VALUE [KEY_VAULT_SECRET_NAME] obsahuje nazov KEY VAULT SECRET.
   C. OPTION [--vault-name KEY_VAULT_NAME] vo VALUE [KEY_VAULT_NAME] obsahuje nazov KEY VAULT.
5. COMMAND [az keyvault secret list --vault-name KEY_VAULT_NAME].
   A. COMMAND vracia zoznam existujucich KEY VAULT SECRETS.
   B. OPTION [--vault-name KEY_VAULT_NAME] vo VALUE [KEY_VAULT_NAME] obsahuje nazov KEY VAULT.
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
AZURE CLI COMMANDS - KEY VAULT CERTIFICATES.

1. COMMAND [az keyvault certificate create --name KEY_VAULT_CERTIFICATE_NAME --vault-name KEY_VAULT_NAME --policy POLICY_FILE_PATH].
   A. COMMAND vytvara KEY VAULT CERTIFICATE z CERTIFICATE POLICY.
   B. OPTION [--name KEY_VAULT_CERTIFICATE_NAME] vo VALUE [KEY_VAULT_CERTIFICATE_NAME] obsahuje nazov KEY VAULT CERTIFICATE.
   C. OPTION [--vault-name KEY_VAULT_NAME] vo VALUE [KEY_VAULT_NAME] obsahuje nazov KEY VAULT.
   D. OPTION [--policy POLICY_FILE_PATH] vo VALUE [POLICY_FILE_PATH] obsahuje PATH k CERTIFICATE POLICY FILE, ktory definuje detaily CERTIFICATE. PATH musi pouzivat SYNTAX [@FILE_PATH].
2. COMMAND [az keyvault certificate download --name KEY_VAULT_CERTIFICATE_NAME --vault-name KEY_VAULT_NAME --encoding CERTIFICATE_ENCODING --file CERTIFICATE_FILE_PATH].
   A. COMMAND stahuje KEY VAULT CERTIFICATE do FILE.
   B. OPTION [--name KEY_VAULT_CERTIFICATE_NAME] vo VALUE [KEY_VAULT_CERTIFICATE_NAME] obsahuje nazov KEY VAULT CERTIFICATE.
   C. OPTION [--vault-name KEY_VAULT_NAME] vo VALUE [KEY_VAULT_NAME] obsahuje nazov KEY VAULT.
   D. OPTION [--encoding CERTIFICATE_ENCODING] vo VALUE [CERTIFICATE_ENCODING] obsahuje ENCODING, ktorym bude stiahnuty CERTIFICATE zakodovany. Moze obsahovat VALUE [DER], alebo VALUE [PEM].
   E. OPTION [--file CERTIFICATE_FILE_PATH] vo VALUE [CERTIFICATE_FILE_PATH] obsahuje PATH k FILE do ktoreho ma byt KEY VAULT CERTIFICATE ulozeny.
3. COMMAND [az keyvault certificate delete --name KEY_VAULT_CERTIFICATE_NAME --vault-name KEY_VAULT_NAME].
   A. COMMAND odstranuje KEY VAULT CERTIFICATE. Ak je zapnuta KEY VAULT PROTECTION, tak COMMAND iba presunie KEY VAULT CERTIFICATE do SOFT DELETED STATE.
   B. OPTION [--name KEY_VAULT_SECRET_NAME] vo VALUE [KEY_VAULT_SECRET_NAME] obsahuje nazov KEY VAULT SECRET.
   C. OPTION [--vault-name KEY_VAULT_NAME] vo VALUE [KEY_VAULT_NAME] obsahuje nazov KEY VAULT.
4. COMMAND [az keyvault certificate purge --name KEY_VAULT_SECRET_NAME --vault-name KEY_VAULT_NAME].
   A. COMMAND PERMANENTNE odstranuje KEY VAULT CERTIFICATE.
   B. OPTION [--name KEY_VAULT_CERTIFICATE_NAME] vo VALUE [KEY_VAULT_CERTIFICATE_NAME] obsahuje nazov KEY VAULT CERTIFICATE.
   C. OPTION [--vault-name KEY_VAULT_NAME] vo VALUE [KEY_VAULT_NAME] obsahuje nazov KEY VAULT.
5. COMMAND [az keyvault certificate list --vault-name KEY_VAULT_NAME].
   A. COMMAND vracia zoznam existujucich KEY VAULT CERTIFICATES.
   B. OPTION [--vault-name KEY_VAULT_NAME] vo VALUE [KEY_VAULT_NAME] obsahuje nazov KEY VAULT.
6. COMMAND [az keyvault certificate get-default-policy] vracia KEY VAULT CERTIFICATE DEFAULT POLICY. DEFAULT POLICY obsahuje POLICY pre SELF SIGNED CERTIFICATE.
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
AZURE CLI COMMANDS - KEY VAULT KEYS.

1. COMMAND [az keyvault key create --name KEY_VAULT_KEY_NAME --vault-name KEY_VAULT_NAME].
   A. COMMAND vytvara KEY VAULT KEY.
   B. OPTION [--name KEY_VAULT_KEY_NAME] vo VALUE [KEY_VAULT_KEY_NAME] obsahuje nazov KEY VAULT KEY.
   C. OPTION [--vault-name KEY_VAULT_NAME] vo VALUE [KEY_VAULT_NAME] obsahuje nazov KEY VAULT.
2. COMMAND [az keyvault key download --name KEY_VAULT_KEY_NAME --vault-name KEY_VAULT_NAME --encoding KEY_ENCODING --file KEY_FILE_PATH].
   A. COMMAND stahuje KEY VAULT KEY do FILE.
   B. OPTION [--name KEY_VAULT_KEY_NAME] vo VALUE [KEY_VAULT_KEY_NAME] obsahuje nazov KEY VAULT KEY.
   C. OPTION [--vault-name KEY_VAULT_NAME] vo VALUE [KEY_VAULT_NAME] obsahuje nazov KEY VAULT.
   D. OPTION [--encoding KEY_ENCODING] vo VALUE [KEY_ENCODING] obsahuje ENCODING, ktorym bude stiahnuty KEY zakodovany. Moze obsahovat VALUE [DER], alebo VALUE [PEM].
   E. OPTION [--file KEY_FILE_PATH] vo VALUE [KEY_FILE_PATH] obsahuje PATH k FILE do ktoreho ma byt KEY VAULT KEY ulozeny.
3. COMMAND [az keyvault key delete --name KEY_VAULT_KEY_NAME --vault-name KEY_VAULT_NAME].
   A. COMMAND odstranuje KEY VAULT KEY. Ak je zapnuta KEY VAULT PROTECTION, tak COMMAND iba presunie KEY VAULT KEY do SOFT DELETED STATE.
   B. OPTION [--name KEY_VAULT_KEY_NAME] vo VALUE [KEY_VAULT_KEY_NAME] obsahuje nazov KEY VAULT KEY.
   C. OPTION [--vault-name KEY_VAULT_NAME] vo VALUE [KEY_VAULT_NAME] obsahuje nazov KEY VAULT.
4. COMMAND [az keyvault key purge --name KEY_VAULT_KEY_NAME --vault-name KEY_VAULT_NAME].
   A. COMMAND PERMANENTNE odstranuje KEY VAULT KEY.
   B. OPTION [--name KEY_VAULT_KEY_NAME] vo VALUE [KEY_VAULT_KEY_NAME] obsahuje nazov KEY VAULT KEY.
   C. OPTION [--vault-name KEY_VAULT_NAME] vo VALUE [KEY_VAULT_NAME] obsahuje nazov KEY VAULT.
5. COMMAND [az keyvault key list --vault-name KEY_VAULT_NAME].
   A. COMMAND vracia zoznam existujucich KEY VAULT KEYS.
   B. OPTION [--vault-name KEY_VAULT_NAME] vo VALUE [KEY_VAULT_NAME] obsahuje nazov KEY VAULT.
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
AZURE CLI COMMANDS - AZURE APP SERVICE CONFIGURATIONS.

1. COMMAND [az webapp config appsettings set --name APP_SERVICE_NAME --resource-group RESOURCE_GROUP_NAME --settings KEY_VALUE_SETTINGS].
   A. COMMAND nastavuje AZURE APP SERVICE CONFIGURATION.
   B. OPTION [--name APP_SERVICE_NAME] vo VALUE [APP_SERVICE_NAME] obsahuje nazov APP_SERVICE_NAME.
   C. OPTION [--resource-group RESOURCE_GROUP_NAME] vo VALUE [RESOURCE_GROUP_NAME] urcuje RESOURCE GROUP NAME.
   D. OPTION [--settings KEY_VALUE_SETTINGS] vo VALUE [KEY_VALUE_SETTINGS] obsahuje medzerou oddelene KEY VALUE PAIRS vo FORMATE [KEY=VALUE], kde VALUE [KEY] je KEY danej CONFIGURATION a VALUE [VALUE] je VALUE danej CONFIGURATION.
2. COMMAND [az webapp config appsettings delete --name APP_SERVICE_NAME --resource-group RESOURCE_GROUP_NAME --setting-names SETTING_NAMES].
   A. COMMAND odstranuje nastavuje AZURE APP SERVICE CONFIGURATION.
   B. OPTION [--name APP_SERVICE_NAME] vo VALUE [APP_SERVICE_NAME] obsahuje nazov APP_SERVICE_NAME.
   C. OPTION [--resource-group RESOURCE_GROUP_NAME] vo VALUE [RESOURCE_GROUP_NAME] urcuje RESOURCE GROUP NAME.
   D. OPTION [--setting-names SETTING_NAMES] vo VALUE [SETTING_NAMES] obsahuje medzerou oddelene nazvy CONFIGURATION SETTINGS.
3. COMMAND [az webapp config appsettings list --name APP_SERVICE_NAME --resource-group RESOURCE_GROUP_NAME].
   A. COMMAND vracia vsetky AZURE APP SERVICE CONFIGURATIONS.
   B. OPTION [--name APP_SERVICE_NAME] vo VALUE [APP_SERVICE_NAME] obsahuje nazov APP_SERVICE_NAME.
   C. OPTION [--resource-group RESOURCE_GROUP_NAME] vo VALUE [RESOURCE_GROUP_NAME] urcuje RESOURCE GROUP NAME.
//----------------------------------------------------------------------------------------------------------------------