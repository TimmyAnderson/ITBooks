using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
//-------------------------------------------------------------------------------------------------------
namespace SimpleFinalizer
{
//-------------------------------------------------------------------------------------------------------
	class SimpleFinalizer
	{
//-------------------------------------------------------------------------------------------------------
		public void Run()
		{
			CNativeEvent		NE=new CNativeEvent("XYZ");

			// Use event.

            NE=null;

            Console.WriteLine("Press any key to invoke GC for 1st time !");
            Console.ReadKey();

            GC.Collect();

            Console.WriteLine("Press any key to invoke GC for 2nd time !");
            Console.ReadKey();

            GC.Collect();
            
            Console.WriteLine("Press any key to exit !");
            Console.ReadKey();
		}
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
		static void Main(string[] args)
		{
			SimpleFinalizer		SF=new SimpleFinalizer();

			SF.Run();
		}
//-------------------------------------------------------------------------------------------------------
	}
//-------------------------------------------------------------------------------------------------------
}
//-------------------------------------------------------------------------------------------------------