using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;
using Microsoft.AspNetCore.Mvc.Filters;
//----------------------------------------------------------------------------------------------------------------------
namespace UsingFilters.CustomFilters
{
//----------------------------------------------------------------------------------------------------------------------
	// !!! FILTER je mozne aplikovat VIACKRAT.
	// !!!!! FILTER implementuje INTERFACE [IOrderedFilter] umoznujuci definovat CUSTOM ORDER.
	[AttributeUsage(AttributeTargets.Class | AttributeTargets.Method, Inherited=true, AllowMultiple=true)]
	public sealed class COrderFilter2Attribute : Attribute, IActionFilter, IOrderedFilter
	{
//----------------------------------------------------------------------------------------------------------------------
		private readonly string									MPrefix;
		private readonly int									MOrder;
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
		public COrderFilter2Attribute(string Prefix, int Order)
		{
			MPrefix=Prefix;
			MOrder=Order;
		}
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
		public int												Order
		{
			get
			{
				return(MOrder);
			}
		}
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
		public void OnActionExecuting(ActionExecutingContext Context)
		{
			Console.WriteLine($"{MPrefix} - METHOD [OnActionExecuting()] is CALLED !");
		}
//----------------------------------------------------------------------------------------------------------------------
		public void OnActionExecuted(ActionExecutedContext Context)
		{
			Console.WriteLine($"{MPrefix} - METHOD [OnActionExecuted()] is CALLED !");
		}
//----------------------------------------------------------------------------------------------------------------------
	}
//----------------------------------------------------------------------------------------------------------------------
}
//----------------------------------------------------------------------------------------------------------------------