using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Windows;
using System.Windows.Threading;
using System.ComponentModel;
//-------------------------------------------------------------------------------------------------------
namespace WPFBinding
{
//-------------------------------------------------------------------------------------------------------
	// Implementujem INotifyPropertyChanged.
	public class CClockTicker3 : INotifyPropertyChanged
	{
//-------------------------------------------------------------------------------------------------------
		// Event definovany rozhranim INotifyPropertyChanged.
		public event PropertyChangedEventHandler				PropertyChanged;
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
        public CClockTicker3()
        {
            DispatcherTimer			Timer=new DispatcherTimer();

            Timer.Tick+=TimerOnTick;
            Timer.Interval=TimeSpan.FromSeconds(1);
            Timer.Start();
        }
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
        public DateTime											DateTime
        {
            get
			{
				return(DateTime.Now);
			}
        }
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
        private void TimerOnTick(object Sender, EventArgs Args)
        {
			// Vykonam notifikaciu, ze PROPERTY DateTime sa zmenila.
            if (PropertyChanged!=null)
                PropertyChanged(this, new PropertyChangedEventArgs("DateTime"));
        }
//-------------------------------------------------------------------------------------------------------
	}
//-------------------------------------------------------------------------------------------------------
}
//-------------------------------------------------------------------------------------------------------