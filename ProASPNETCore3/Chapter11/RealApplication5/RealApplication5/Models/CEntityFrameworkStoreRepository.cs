using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;
//----------------------------------------------------------------------------------------------------------------------
namespace RealApplication5.Models
{
//----------------------------------------------------------------------------------------------------------------------
	// !!! CLASS umoznuje vykonavat DB STORAGE OPERATIONS.
	public sealed class CEntityFrameworkStoreRepository : IStoreRepository
	{
//----------------------------------------------------------------------------------------------------------------------
		private readonly CApplicationDbContext					MContext;
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
		public CEntityFrameworkStoreRepository(CApplicationDbContext Context)
		{
			MContext=Context;
		}
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
		public IQueryable<CProduct>								Products
		{
			get
			{
				return(MContext.Products);
			}
		}
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
		public void CreateProduct(CProduct Product)
		{
			MContext.Add(Product);

			MContext.SaveChanges();
		}
//----------------------------------------------------------------------------------------------------------------------
		public void DeleteProduct(CProduct Product)
		{
			MContext.Remove(Product);

			MContext.SaveChanges();
		}
//----------------------------------------------------------------------------------------------------------------------
		public void SaveProduct(CProduct Product)
		{
			MContext.SaveChanges();
		}
//----------------------------------------------------------------------------------------------------------------------
	}
//----------------------------------------------------------------------------------------------------------------------
}
//----------------------------------------------------------------------------------------------------------------------