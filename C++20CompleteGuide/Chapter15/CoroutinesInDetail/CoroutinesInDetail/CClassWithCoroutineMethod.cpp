//----------------------------------------------------------------------------------------------------------------------
#include "CClassWithCoroutineMethod.h"
#include <iostream>
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
using namespace std;
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
CClassWithCoroutineMethod::CClassWithCoroutineMethod(int Value)
	: MValue(Value)
{
}
//----------------------------------------------------------------------------------------------------------------------
CClassWithCoroutineMethod::~CClassWithCoroutineMethod(void) noexcept
{
}
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
CSimpleCoroutineObject CClassWithCoroutineMethod::CoroutineMethodStatic(void)
{
	wcout << L"\tCoroutineMethodStatic() - PART 1." << endl;

	suspend_always										Awaiter1{};

	co_await Awaiter1;

	wcout << L"\tCoroutineMethodStatic() - PART 2." << endl;

	suspend_always										Awaiter2{};

	co_await Awaiter2;

	wcout << L"\tCoroutineMethodStatic() - PART 3." << endl;
}
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
CSimpleCoroutineObject CClassWithCoroutineMethod::CoroutineMethodNonStatic(void)
{
	wcout << L"\tCoroutineMethodNonStatic() - PART 1. VALUE [" << MValue << L"]." << endl;

	suspend_always										Awaiter1{};

	co_await Awaiter1;

	wcout << L"\tCoroutineMethodNonStatic() - PART 2. VALUE [" << MValue << L"]." << endl;

	suspend_always										Awaiter2{};

	co_await Awaiter2;

	wcout << L"\tCoroutineMethodNonStatic() - PART 3. VALUE [" << MValue << L"]." << endl;
}
//----------------------------------------------------------------------------------------------------------------------