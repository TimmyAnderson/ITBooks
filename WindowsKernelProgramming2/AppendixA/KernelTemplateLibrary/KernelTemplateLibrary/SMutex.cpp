//----------------------------------------------------------------------------------------------------------------------
#include "KernelHeaders.h"
#include "SMutex.h"
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
namespace KTL
{
//----------------------------------------------------------------------------------------------------------------------
	void SMutex::Init(void)
	{
		KeInitializeMutex(&MMutex,0);
	}
//----------------------------------------------------------------------------------------------------------------------
	void SMutex::Lock(void)
	{
		KeWaitForSingleObject(&MMutex,Executive,KernelMode,FALSE,nullptr);
	}
//----------------------------------------------------------------------------------------------------------------------
	void SMutex::Unlock(void)
	{
		KeReleaseMutex(&MMutex, FALSE);
	}
//----------------------------------------------------------------------------------------------------------------------
}
//----------------------------------------------------------------------------------------------------------------------