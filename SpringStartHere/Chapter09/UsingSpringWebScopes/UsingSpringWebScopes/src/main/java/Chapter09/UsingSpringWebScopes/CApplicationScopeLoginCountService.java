package Chapter09.UsingSpringWebScopes;
//----------------------------------------------------------------------------------------------------------------------
import org.springframework.stereotype.Service;
import org.springframework.web.context.annotation.ApplicationScope;
//----------------------------------------------------------------------------------------------------------------------
// !!!!! CLASS je SPRING BEAN.
@Service
// !!!!! SPRING BEAN ma APPLICATION SCOPE.
@ApplicationScope
//----------------------------------------------------------------------------------------------------------------------
public class CApplicationScopeLoginCountService
{
//----------------------------------------------------------------------------------------------------------------------
	// !!!!! SPRING BEAN OBJECT, ktory ma APPLICATION SCOPE NIE je TRHEAD SAFE.
	private Object												MLock=new Object();
	private int													MCounter;
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
	public int getCounter()
	{
		synchronized(MLock)
		{
			return(MCounter);
		}
	}
//----------------------------------------------------------------------------------------------------------------------
	public void Increment()
	{
		synchronized(MLock)
		{
			MCounter++;
		}
	}
//----------------------------------------------------------------------------------------------------------------------
}
//----------------------------------------------------------------------------------------------------------------------