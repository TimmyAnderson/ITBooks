using System;
using System.Collections.Generic;
using System.Text;
using System.Runtime.Serialization;
//-------------------------------------------------------------------------------------------------------
namespace CompositeDCLibrary
{
//-------------------------------------------------------------------------------------------------------
	[DataContract]
	public class CFriend
	{
//-------------------------------------------------------------------------------------------------------
		private CName											MMyName;
		private CName[]											MFriends;
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
		public CFriend(CName MyName, CName[] Friends)
		{
			MMyName=MyName;
			MFriends=Friends;
		}
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
		[DataMember]
		public CName											MyName
		{
			get
			{
				return(MMyName);
			}
			// Vyuziva iba proces serializacie.
			private set
			{
				MMyName=value;
			}
		}
//-------------------------------------------------------------------------------------------------------
		[DataMember]
		public CName[]											Friends
		{
			get
			{
				return(MFriends);
			}
			// Vyuziva iba proces serializacie.
			private set
			{
				MFriends=value;
			}
		}
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
		// Nebude [DataMember].
		public CName			this[int Index]
		{
			get
			{
				if (Index<0 || Index>=MFriends.Length)
					return(null);
				else
					return(MFriends[Index]);
			}
			// Vyuziva iba proces serializacie.
			private set
			{
				if (Index<0 || Index>=MFriends.Length)
					return;
				
				MFriends[Index]=value;
			}
		}
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
		public override string ToString()
		{
			StringBuilder		SB=new StringBuilder();

			SB.AppendLine(string.Format("CFriend - MyName: {0}",MMyName.ToString()));
			
			for(int i=0;i<MFriends.Length;i++)
				SB.AppendLine(string.Format("   Friend {0} - {1}",i+1,MFriends[i].ToString()));

			return(SB.ToString());
		}
//-------------------------------------------------------------------------------------------------------
	}
//-------------------------------------------------------------------------------------------------------
}
//-------------------------------------------------------------------------------------------------------