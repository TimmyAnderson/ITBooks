<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
</head>
<body>
	<input type="button" id="Toggle" value="Toggle" />
	<br />
	<canvas id="Canvas" width="600" height="500" style="border:1px solid green;"></canvas>

	<script type="text/javascript">
		window.onload=function()
		{
			var													Toggle=window.document.getElementById("Toggle");
			var													Canvas=window.document.getElementById("Canvas");
			var													CanvasContext=Canvas.getContext("2d");
			var													DoClipping=true;

			Toggle.onclick=function()
			{
				CanvasContext.fillStyle="#0F0";
				CanvasContext.strokeStyle="#f00";

				if (DoClipping==true)
				{
					CanvasContext.save();

					CanvasContext.beginPath();
					CanvasContext.moveTo(50,50);
					CanvasContext.lineTo(400,200);
					CanvasContext.lineTo(400,400);
					CanvasContext.closePath();

					CanvasContext.clip();

					CanvasContext.fillRect(100,100,400,300);
				}
				else
				{
					CanvasContext.restore();

					CanvasContext.beginPath();
					CanvasContext.moveTo(50,50);
					CanvasContext.lineTo(400,200);
					CanvasContext.lineTo(400,400);
					CanvasContext.closePath();

					CanvasContext.stroke();
					CanvasContext.fill();

					CanvasContext.fillRect(100,100,400,300);
				}

				DoClipping=!DoClipping;
			}

			Toggle.onclick();
		}
	</script>
</body>
</html>