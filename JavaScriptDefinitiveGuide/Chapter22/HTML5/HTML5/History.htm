<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
</head>
<body>
	<textarea id="Text" cols="100" rows="10"></textarea>
	<br />
	<input type="button" id="ButtonAdd" value="Add new HISTORY ENTRY" />
	<input type="button" id="ButtonReplace" value="Replace new HISTORY ENTRY" />

	<script type="text/javascript">
		window.onload=function()
		{
			var													Text=window.document.getElementById("Text");
			var													ButtonAdd=window.document.getElementById("ButtonAdd");
			var													ButtonReplace=window.document.getElementById("ButtonReplace");
			var													Counter=1;

			ButtonAdd.onclick=function()
			{
				// !!!!! IE pushState() NEPODPORUJE.
				window.history.pushState(Counter++,Counter,window.location.href);

				Text.value+="ENTRY [" + Counter + "] ADDED !\n";
			}

			ButtonReplace.onclick=function()
			{
				// !!!!! IE replaceState() NEPODPORUJE.
				window.history.replaceState(Counter++,Counter,window.location.href);

				Text.value+="ENTRY [" + Counter + "] REPLACED !\n";
			}

			window.onpopstate=function(EventObject)
			{
				Text.value+="HISTORY CHANGED to [" + window.location.hash + "] !\n";
			}
		}
	</script>
</body>
</html>