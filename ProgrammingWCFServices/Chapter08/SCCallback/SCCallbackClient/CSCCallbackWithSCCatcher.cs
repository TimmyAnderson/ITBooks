using System;
using System.Collections.Generic;
using System.Text;
using System.Threading;
using System.ServiceModel;
using System.ServiceModel.Channels;
using SCCallbackLibrary;
//-------------------------------------------------------------------------------------------------------
namespace SCCallbackClient
{
//-------------------------------------------------------------------------------------------------------
	[CallbackBehavior(ConcurrencyMode=ConcurrencyMode.Single,UseSynchronizationContext=true)]
	class CSCCallbackWithSCCatcher : ISCCallbackWithSCCallback
	{
//-------------------------------------------------------------------------------------------------------
		private CMainForm										MMainForm;
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
		public CSCCallbackWithSCCatcher(CMainForm MainForm)
		{
			MMainForm=MainForm;
		}
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
		public void OnCallback(string Message)
		{
			MMainForm.MLBXRecords.Items.Add(string.Format("SetListBoxText() - THREAD {0}: {1} !",Thread.CurrentThread.ManagedThreadId,Message));
		}
//-------------------------------------------------------------------------------------------------------
	}
//-------------------------------------------------------------------------------------------------------
}
//-------------------------------------------------------------------------------------------------------