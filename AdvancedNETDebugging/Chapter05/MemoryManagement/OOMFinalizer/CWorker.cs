using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Runtime.InteropServices;
//-------------------------------------------------------------------------------------------------------
namespace OOMFinalizer
{
//-------------------------------------------------------------------------------------------------------
	public class CWorker
	{
//-------------------------------------------------------------------------------------------------------
        [DllImport("MyNative.dll")]
        static extern void Init(); 
        [DllImport("MyNative.dll")]
        static extern void UnInit();
        [DllImport("MyNative.dll")]
        static extern void Process(byte[] Data); 
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
        public CWorker()
        {
            Init();
        }
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
		// Finalizer.
        ~CWorker()
        {
            UnInit();
        }
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
        public void ProcessData(byte[] Data)
        {
            Process(Data);
        }
//-------------------------------------------------------------------------------------------------------
	}
//-------------------------------------------------------------------------------------------------------
}
//-------------------------------------------------------------------------------------------------------