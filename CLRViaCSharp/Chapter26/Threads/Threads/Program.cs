using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading;
//-------------------------------------------------------------------------------------------------------
namespace Threads
{
//-------------------------------------------------------------------------------------------------------
	class Program
	{
//-------------------------------------------------------------------------------------------------------
		private static ManualResetEvent							MRE=new ManualResetEvent(false);
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
		private static void ThreadMethod(object Param)
		{
			Console.WriteLine(string.Format("THREAD [{0}] is RUNNING !",Param));

			MRE.WaitOne();
		}
//-------------------------------------------------------------------------------------------------------
		private static void ForegroundOrBackgroundThreadMethod(object Param)
		{
			Console.WriteLine(string.Format("THREAD [{0}] is RUNNING !",Param));

			Thread.Sleep(60*1000);

			Console.WriteLine(string.Format("THREAD [{0}] is FINISHING !",Param));
		}
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
		private static void Test1()
		{
			for (int Index=0;Index<1000;Index++)
			{
				Thread											T=new Thread(ThreadMethod);

				T.Start(Index+1);
				Thread.Sleep(10);
			}

			Console.WriteLine("Press any key to STOP ALL THREADS !");
			Console.ReadLine();

			MRE.Set();
		}
//-------------------------------------------------------------------------------------------------------
		private static void Test2()
		{
			Thread												T=new Thread(ForegroundOrBackgroundThreadMethod);

			T.Start("FOREGROUND");
		}
//-------------------------------------------------------------------------------------------------------
		private static void Test3()
		{
			Thread												T=new Thread(ForegroundOrBackgroundThreadMethod);

			T.IsBackground=true;

			T.Start("BACKGROUND");
		}
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------
		static void Main(string[] args)
		{
			//Test1();
			//Test2();
			Test3();

			Console.WriteLine("\nPress any key to EXIT !");
			Console.ReadLine();
		}
//-------------------------------------------------------------------------------------------------------
	}
//-------------------------------------------------------------------------------------------------------
}
//-------------------------------------------------------------------------------------------------------