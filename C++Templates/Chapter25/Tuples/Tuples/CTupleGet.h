//----------------------------------------------------------------------------------------------------------------------
#pragma once
//----------------------------------------------------------------------------------------------------------------------
#include <stdio.h>
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
template<typename... TTypes>
class CTuple;
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
// !!!!! PRIMARY TEMPLATE CLASS, ktora implementuje STATIC METHOD, ktora vracia VALUE danej TUPLE na zaklade jej INDEXU.
// !!!!! Pouzitie TEMPLATE CLASS je WORKAROUND, kedze C++ NEUMOZNUJE definovat PARTIAL SPECIALIZATIONS pre TEMPLATE FUNCTIONS a TEMPLATE METHODS.
template<size_t INDEX>
class CTupleGet
{
//----------------------------------------------------------------------------------------------------------------------
	public:
		template<typename THead, typename... TTail>
		static const auto& Get(const CTuple<THead,TTail...>& Tuple);
//----------------------------------------------------------------------------------------------------------------------
};
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
template<size_t INDEX>
template<typename THead, typename... TTail>
const auto& CTupleGet<INDEX>::Get(const CTuple<THead,TTail...>& Tuple)
{
	// !!! Rekurzivne sa vola METHOD GET, az kym INDEX neklesne na 0.
	const auto&													Value=CTupleGet<INDEX-1>::Get(Tuple.GetTail());

	return(Value);
}
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
// !!!!! TEMPLATE CLASS SPECIALIZATION, ktora implementuje STATIC METHOD, ktora vracia VALUE danej TUPLE na zaklade jej INDEXU.
template<>
class CTupleGet<0>
{
//----------------------------------------------------------------------------------------------------------------------
	public:
		template<typename THead, typename... TTail>
		static const THead& Get(const CTuple<THead,TTail...>& Tuple);
//----------------------------------------------------------------------------------------------------------------------
};
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
template<typename THead, typename... TTail>
const THead& CTupleGet<0>::Get(const CTuple<THead,TTail...>& Tuple)
{
	const THead&												Head=Tuple.GetHead();

	return(Head);
}
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
template<size_t INDEX, typename... TTypes>
const auto& TupleGet(const CTuple<TTypes...>& Tuple)
{
	const auto&													Value=CTupleGet<INDEX>::Get(Tuple);

	return(Value);
}
//----------------------------------------------------------------------------------------------------------------------