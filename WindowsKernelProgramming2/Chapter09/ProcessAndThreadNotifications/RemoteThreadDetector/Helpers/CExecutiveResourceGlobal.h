//----------------------------------------------------------------------------------------------------------------------
#pragma once
//----------------------------------------------------------------------------------------------------------------------
#include <ntddk.h>
#include "CMemoryOperators.h"
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
// !!!!! DON"T have CONSTRUCTOR and DESTURCTOR. Can be USED as a GLOBAL VARIABLE.
class CExecutiveResourceGlobal : public CMemoryOperators
{
//----------------------------------------------------------------------------------------------------------------------
	private:
		ERESOURCE												MResource;
		bool													MIsInCriticalRegion;

	public:
		void Init(void);
		void Delete(void);

		void Lock(void);
		void Unlock(void);

		void LockShared(void);
		void UnlockShared(void);

		ULONG GetSharedWaiterCount(void);
		ULONG GetExclusiveWaiterCount(void);
//----------------------------------------------------------------------------------------------------------------------
};
//----------------------------------------------------------------------------------------------------------------------