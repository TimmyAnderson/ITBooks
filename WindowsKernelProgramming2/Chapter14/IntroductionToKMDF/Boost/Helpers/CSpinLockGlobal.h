//----------------------------------------------------------------------------------------------------------------------
#pragma once
//----------------------------------------------------------------------------------------------------------------------
#include <ntddk.h>
#include "CMemoryOperators.h"
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
// !!!!! DON'T have CONSTRUCTOR and DESTURCTOR. Can be USED as a GLOBAL VARIABLE.
class CSpinLockGlobal : public CMemoryOperators
{
//----------------------------------------------------------------------------------------------------------------------
	private:
		KSPIN_LOCK												MLock;
		KIRQL													MOldIrql;

	public:
		void Init(void);
		void Lock(void);
		void Unlock(void);
//----------------------------------------------------------------------------------------------------------------------
};
//----------------------------------------------------------------------------------------------------------------------